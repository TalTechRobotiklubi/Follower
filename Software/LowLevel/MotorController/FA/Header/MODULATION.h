#ifndef _MODULATION_H_
#define _MODULATION_H_

#include "stm32f10x.h"

typedef struct
{
   float*   pfPwmDutyCycle;          //PWM duty cycle in percents
   uint8_t* pu8Direction;               //Motor direction
   
   uint8_t  u8ModulationStatusWord;     //Status word of modulation module
}T_MODULATION;

//----------------------------------------------------------------------------------------------------------------------------
// Configure peripherals necessary for modulation
//----------------------------------------------------------------------------------------------------------------------------
void vModulationHardwareInit();
//----------------------------------------------------------------------------------------------------------------------------
// Enable modulation
//----------------------------------------------------------------------------------------------------------------------------
void vModulationEnable();
//----------------------------------------------------------------------------------------------------------------------------
// Disable modulation
//----------------------------------------------------------------------------------------------------------------------------
void vModulationDisable();
//----------------------------------------------------------------------------------------------------------------------------
// Cyclic function for modulation. To be executed every 2 milliseconds
//----------------------------------------------------------------------------------------------------------------------------
void vModulation(T_MODULATION *tModulation);

#endif  //_MODULATION_H_
